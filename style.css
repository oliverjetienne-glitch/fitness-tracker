
:root{
  --blue:#2196F3; --green:#4CAF50; --yellow:#FFEB3B; --purple:#9C27B0;
  --text:#111; --muted:#666; --bg:#fff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:var(--bg);color:var(--text)}

/* Top bar */
header#top-banner{background:#fff;color:#111;padding:14px 14px 10px;position:sticky;top:0;z-index:100;border-bottom:1px solid #eaeaea}
header#top-banner .phase-title{font-weight:800;font-size:18px;text-align:center;margin-bottom:8px}
#phase-progress-container{width:100%;height:8px;background:#eee;border-radius:6px;overflow:hidden;margin:0 auto 8px}
#phase-progress-bar{height:100%;width:0;background:var(--green);transition:width .3s ease}
#month-header{display:flex;align-items:center;justify-content:center;gap:10px}
#month-title{font-weight:800;font-size:16px}
#month-header button{background:#f0f0f0;border:1px solid #ddd;border-radius:10px;width:36px;height:32px;cursor:pointer;font-size:18px}

/* Layout */
main{padding:12px 12px 90px;max-width:1000px;margin:0 auto;}
.row{display:flex;gap:8px;align-items:center}
.row.right{justify-content:flex-end}
.row.between{justify-content:space-between}

/* Calendar */
#calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;touch-action:pan-x}
.day{background:#fff;border-radius:14px;padding:10px;min-height:92px;position:relative;cursor:pointer;text-align:center;overflow:hidden;border:1px solid #e5e5e5}
.day .date-num{font-weight:900;font-size:16px;margin-bottom:2px;letter-spacing:.3px}
.day small{color:#555;font-size:13px}
.day.day1{border-color:var(--blue)}
.day.day2{border-color:var(--green)}
.day.day3{border-color:var(--yellow)}
.checkmark{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:44px;color:#fff;background:rgba(76,175,80,0.85);font-weight:900;pointer-events:none}
.extra-badge-corner{position:absolute;right:6px;bottom:6px;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;background:rgba(156,39,176,0.9);font-weight:900;font-size:18px;cursor:pointer}

/* Cards */
.card{background:#fff;border-radius:14px;padding:14px;box-shadow:0 4px 10px rgba(0,0,0,.06);margin:10px 0}
.card.themed{border-left:6px solid #ddd}
.hidden{display:none}
.input-inline{display:flex;gap:8px;align-items:center;margin-top:8px;font-size:15px}
input,select,textarea{font-size:16px}
input[type=tel],input[type=date],select,textarea{padding:10px;border:1px solid #ddd;border-radius:12px;width:100%}
label{display:block;margin:8px 0;font-size:15px}
ul{margin:8px 0 0 18px;padding:0;font-size:15px}

.primary{background:#111;color:#fff;border:none;padding:12px 16px;border-radius:14px;cursor:pointer;font-weight:800}

/* Bottom nav */
nav#bottom-nav{position:fixed;bottom:0;left:0;right:0;background:#fff;color:#888;display:flex;justify-content:space-around;align-items:center;padding:10px 0;border-top:1px solid #eaeaea;z-index:200}
nav#bottom-nav .nav-btn{background:none;border:none;color:#888;font-size:24px;cursor:pointer;flex:1;text-align:center}
nav#bottom-nav .nav-btn.center{font-size:26px}
nav#bottom-nav .nav-btn:active{background:#f2f2f2;border-radius:12px}

/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);padding:12px;z-index:1000}
.modal-inner{background:#fff;border-radius:14px;padding:16px;max-width:520px;width:100%}
.toast{position:fixed;left:50%;top:25%;transform:translate(-50%,-50%);background:#111;color:#fff;padding:12px 16px;border-radius:12px;z-index:1500;box-shadow:0 6px 14px rgba(0,0,0,.25);font-weight:800}

/* Themes */
.theme-d1 .card.themed{border-left-color:var(--blue)}
.theme-d2 .card.themed{border-left-color:var(--green)}
.theme-d3 .card.themed{border-left-color:var(--yellow)}
.theme-extra .card.themed{border-left-color:var(--purple)}

/* Goals */
.goal-card{border-left:6px solid var(--purple);padding:10px;border-radius:10px;margin-bottom:10px;background:#fafafa}
.goal-title{font-weight:800}
.goal-meta{color:#555;font-size:13px;margin:6px 0}
.goal-progress{height:8px;background:#e5e5e5;border-radius:6px;overflow:hidden}
.goal-progress > div{height:100%;background:var(--purple);width:0}
.goal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:8px}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;background:#eee;color:#333;font-size:12px;margin-left:6px}
